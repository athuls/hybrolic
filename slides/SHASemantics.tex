\begin{figure}
    \begin{center}
        \scalebox{0.8}{
            \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,semithick]
                \node[loc, label=below:$m_0$, label=left:
                $\begin{matrix}
                    x_1 - 3x_2 \leq 10 \\
                    x_2 > -3
                \end{matrix}$] (m0) at (2.5,2.5) {
                    $\begin{matrix}
                        \dot{x_1} = -2 \\ 
                        \dot{x_2} = 3 
                    \end{matrix}$
                };
                \node[loc,label=below:$m_1$, label=right:$2x_1 + 3x_2 \leq 5$] (m1) at (7.5,2.5) {
                    $\begin{matrix}
                        \dot{x_1} = 0 \\ 
                        \dot{x_2} = -2
                    \end{matrix}$
                };
            
                \path (m0) edge[bend left] node {$a, \, x_1 + 2x_2 \leq 19$} node[below] {$\{x_2\}$} (m1);
                \path (m1) edge[bend left]  node[above] {$b, \, x_1 > -21$} node[below] {$\{x_1, x_2\}$}(m0);

            \pause 

            \only<8, 9, 12>{
                \node[yloc, label=below:$m_0$, label=left:
                $\begin{matrix}
                    x_1 - 3x_2 \leq 10 \\
                    x_2 > -3
                \end{matrix}$] (m0) at (2.5,2.5) {
                    $\begin{matrix}
                        \dot{x_1} = -2 \\ 
                        \dot{x_2} = 3 
                    \end{matrix}$
                };
            }

            \only<10, 11>{
                \node[yloc,label=below:$m_1$, label=right:$2x_1 + 3x_2 \leq 5$] (m1) at (7.5,2.5) {
                    $\begin{matrix}
                        \dot{x_1} = 0 \\ 
                        \dot{x_2} = -2
                    \end{matrix}$
                };
            }

    \node[stloc, label=left:
        $\begin{matrix} 
            x_1\\
            x_2
        \end{matrix}$,
        label=below:$m_0$] (s0) at (0,0) {$\begin{matrix} 0 \\ 0 \end{matrix}$};

    \pause
    \node[stloc, label=below:$m_0$] (s1) at (2,0) {$\begin{matrix} -2 \\ 3
      \end{matrix}$};  
    \draw[trans](s0) --node[midway,above]{$1$}  (s1);
    
    \pause
    \node[stloc, label=below:$m_1$] (s2) at (4,0) {$\begin{matrix} -2 \\ 0
      \end{matrix}$};  
    \draw[trans](s1) --node[midway,above]{$a$}  (s2);
    
    \pause
    \node[stloc, label=below:$m_1$] (s3) at (6,0) {$\begin{matrix} -2 \\ -1
      \end{matrix}$};  
    \draw[trans](s2) --node[midway,above]{$0.5$}  (s3);
    \pause
    \node[stloc, label=below:$m_0$] (s4) at (8,0) {$\begin{matrix} 0 \\ 0
      \end{matrix}$};  
    \draw[trans](s3) --node[midway,above]{$b$}  (s4);
    \draw[trans](s4) --node[midway,above]{$ \cdots$}  (10,0) ;


            \end{tikzpicture}
        }
    \end{center}
    \label{fig:sha-semantics}
    \caption{Example run in a SHA} 
\end{figure}
